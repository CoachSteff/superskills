# Release Checklist - v2.2.1

**Release Type:** Patch (Critical Bug Fixes)  
**Release Date:** 2024-12-20  
**Release Manager:** Steff Vanhaverbeke

---

## Pre-Release Verification

### Code Quality
- [x] All files edited and saved
- [x] No syntax errors in modified files
- [x] All imports verified
- [x] No hardcoded credentials
- [x] No debugging code left in

### Version Updates
- [x] `pyproject.toml` version: `2.2.0` → `2.2.1`
- [x] `CHANGELOG.md` updated with v2.2.1 entry
- [x] Release notes created: `dev/RELEASE_NOTES_v2.2.1.md`
- [x] Version consistent across all files

### Testing
- [x] Model resolution: No 404 errors
- [x] Workflow detection: Finds folder-based workflows
- [x] Discovery scoring: Plural forms work
- [x] Documentation: All examples use `--format json`
- [x] CLI commands: All core commands functional
- [x] No regressions in existing features

### Documentation
- [x] CHANGELOG.md: Detailed v2.2.1 entry
- [x] RELEASE_NOTES_v2.2.1.md: Comprehensive release notes
- [x] README.md: All `--json` corrected to `--format json`
- [x] IDE_INTEGRATION.md: All examples corrected
- [x] No outdated examples

---

## Git Operations

### Commit Status
- [x] All changes staged
- [x] Commit created: `c96c515`
- [x] Commit message follows conventions
- [x] Commit includes all 7 modified files

### Tag Creation
- [ ] Create annotated tag: `git tag -a v2.2.1 -m "Release v2.2.1 - Critical Patch"`
- [ ] Verify tag: `git tag -l v2.2.1`
- [ ] Check tag points to correct commit

### Remote Push
- [ ] Push commits: `git push origin master`
- [ ] Push tags: `git push origin v2.2.1`
- [ ] Verify on GitHub: commits visible
- [ ] Verify on GitHub: tag visible

---

## GitHub Release

### Release Creation
- [ ] Navigate to: https://github.com/CoachSteff/superskills/releases/new
- [ ] Select tag: `v2.2.1`
- [ ] Release title: `v2.2.1 - Critical Patch Release`
- [ ] Copy content from `dev/RELEASE_NOTES_v2.2.1.md`
- [ ] Mark as "Latest release"
- [ ] Do NOT mark as pre-release

### Release Notes Content
- [ ] Summary section present
- [ ] All 4 fixes documented with before/after examples
- [ ] Installation instructions clear
- [ ] Upgrade instructions clear
- [ ] Verification steps included
- [ ] Links to changelog and docs included

### Release Assets
- [ ] No binary assets needed (PyPI only)
- [ ] Source code (auto-generated by GitHub)

---

## PyPI Release

### Package Preparation
- [ ] Clean old build artifacts: `rm -rf dist/ build/ *.egg-info`
- [ ] Build package: `python -m build`
- [ ] Verify dist files created: `ls -lh dist/`
- [ ] Check wheel: `unzip -l dist/superskills-2.2.1-py3-none-any.whl`
- [ ] Check sdist: `tar -tzf dist/superskills-2.2.1.tar.gz`

### Test PyPI Upload (Optional)
- [ ] Upload to TestPyPI: `twine upload --repository testpypi dist/*`
- [ ] Install from TestPyPI: `pip install --index-url https://test.pypi.org/simple/ superskills==2.2.1`
- [ ] Test installation works
- [ ] Verify `superskills --version` shows 2.2.1

### Production PyPI Upload
- [ ] Upload to PyPI: `twine upload dist/*`
- [ ] Verify on PyPI: https://pypi.org/project/superskills/2.2.1/
- [ ] Test install: `pip install superskills==2.2.1`
- [ ] Verify version: `superskills --version`

---

## Post-Release Verification

### Installation Tests
- [ ] Fresh install with pip works: `pip install superskills`
- [ ] Fresh install with pipx works: `pipx install superskills`
- [ ] Upgrade from v2.2.0 works: `pipx upgrade superskills`
- [ ] Version shows correctly: `superskills --version` → `2.2.1`

### Functional Tests
- [ ] Model fix: `superskills call researcher "test"` → No 404
- [ ] Workflow fix: `superskills workflow list` → Shows workflows
- [ ] Discovery fix: `superskills discover --query "podcasts"` → Score ~70.00
- [ ] Docs fix: `superskills call author "test" --format json` → Works

### GitHub Checks
- [ ] Release page shows v2.2.1
- [ ] Release notes properly formatted
- [ ] Tag points to correct commit
- [ ] Latest release badge updated
- [ ] No build failures

### Communication
- [ ] Update project README if needed
- [ ] Notify users of critical fixes (if applicable)
- [ ] Close related GitHub issues
- [ ] Update project status

---

## Rollback Plan

If critical issues discovered post-release:

1. **Immediate Response**
   - Create GitHub issue documenting problem
   - Add warning to release notes
   - Communicate to users

2. **Quick Fix (if possible)**
   - Create hotfix branch from v2.2.1 tag
   - Fix critical issue
   - Release v2.2.2 following same checklist

3. **Rollback (if necessary)**
   - Mark v2.2.1 as "pre-release" on GitHub
   - Document known issues
   - Recommend users stay on v2.2.0 until v2.2.2

---

## Success Criteria

**Release is successful when:**
- [x] All pre-release checks pass
- [ ] Git tag created and pushed
- [ ] GitHub release published
- [ ] PyPI package uploaded and installable
- [ ] All 4 critical fixes verified working
- [ ] No new issues reported within 24 hours

---

## Notes

### Files Modified (7 total)
1. `cli/utils/model_resolver.py` - Model aliases updated
2. `cli/core/workflow_engine.py` - Workflow detection extended
3. `cli/commands/discover.py` - Plural synonyms added
4. `README.md` - Documentation corrected (5 changes)
5. `docs/IDE_INTEGRATION.md` - Documentation corrected (24 changes)
6. `CHANGELOG.md` - v2.2.1 entry added
7. `pyproject.toml` - Version bumped to 2.2.1

### Commit Hash
`c96c515` - fix: critical patch v2.2.1 - model 404, workflow detection, discovery, docs

### Testing Summary
- Model resolution: ✅ All aliases point to claude-sonnet-4-20250514
- Workflow detection: ✅ 5 workflows found (including user workflows)
- Discovery scoring: ✅ Plural forms score correctly
- Documentation: ✅ Zero --json instances remain

---

**Checklist Owner:** Steff Vanhaverbeke  
**Review Date:** 2024-12-20  
**Approved for Release:** Pending final checks
